(()=>{const t=document.querySelector(".board"),e=document.createElement("button");e.classList.add("button"),e.textContent="button",document.body.appendChild(e);for(let e=0;e<9;e++){const n=document.createElement("div");n.classList.add(`cube${e}`),t.appendChild(n)}let n=!1,i=!1;function d(n){if(!i&&"X"!==n.target.textContent){const e=document.createElement("div");n.target.appendChild(e),e.textContent="Y",e.classList.add("textY"),i=!0,t.removeEventListener("click",d)}e.addEventListener("click",c)}function c(){const n=document.querySelector(".textX"),i=document.querySelector(".textY");n.style.visibility="hidden",i.style.visibility="hidden",e.disabled=!0,t.addEventListener("click",(function(t){!function(t,e,n){"X"!==t.target.textContent&&null!==t.target.textContent&&"Y"!==t.target.textContent?t.target.textContent="O":"X"===t.target.textContent?e.style.visibility="visible":"Y"===t.target.textContent&&(n.style.visibility="visible")}(t,n,i)}))}t.addEventListener("click",(function e(i){if(!n){const c=document.createElement("div");i.target.appendChild(c),c.textContent="X",c.classList.add("textX"),n=!0,t.removeEventListener("click",e),t.addEventListener("click",d)}}))})();